{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread2\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { useCallback, useMemo } from 'react';\nimport { get as defaultGet } from './get';\nexport var defaultResponseMapper = function defaultResponseMapper(response) {\n  return response;\n};\nexport var useMapToAsyncPaginatePure = function useMapToAsyncPaginatePure(useCallbackParam, useMemoParam, selectFetchParams) {\n  var url = selectFetchParams.url,\n      _selectFetchParams$qu = selectFetchParams.queryParams,\n      queryParams = _selectFetchParams$qu === void 0 ? {} : _selectFetchParams$qu,\n      _selectFetchParams$se = selectFetchParams.searchParamName,\n      searchParamName = _selectFetchParams$se === void 0 ? 'search' : _selectFetchParams$se,\n      _selectFetchParams$pa = selectFetchParams.pageParamName,\n      pageParamName = _selectFetchParams$pa === void 0 ? 'page' : _selectFetchParams$pa,\n      _selectFetchParams$of = selectFetchParams.offsetParamName,\n      offsetParamName = _selectFetchParams$of === void 0 ? 'offset' : _selectFetchParams$of,\n      _selectFetchParams$ma = selectFetchParams.mapResponse,\n      mapResponse = _selectFetchParams$ma === void 0 ? defaultResponseMapper : _selectFetchParams$ma,\n      _selectFetchParams$ge = selectFetchParams.get,\n      get = _selectFetchParams$ge === void 0 ? defaultGet : _selectFetchParams$ge,\n      _selectFetchParams$in = selectFetchParams.initialPage,\n      initialPage = _selectFetchParams$in === void 0 ? 1 : _selectFetchParams$in,\n      _selectFetchParams$de = selectFetchParams.defaultInitialPage,\n      defaultInitialPage = _selectFetchParams$de === void 0 ? 2 : _selectFetchParams$de;\n  var additional = useMemoParam(function () {\n    return {\n      page: initialPage\n    };\n  }, [initialPage]);\n  var defaultAdditional = useMemoParam(function () {\n    return {\n      page: defaultInitialPage\n    };\n  }, [defaultInitialPage]);\n  var loadOptions = useCallbackParam( /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(search, prevOptions, _ref) {\n      var page, params, responseRaw, hasError, response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              page = _ref.page;\n              params = _objectSpread(_objectSpread({}, queryParams), {}, _defineProperty({}, searchParamName, search));\n\n              if (pageParamName) {\n                params[pageParamName] = page;\n              }\n\n              if (offsetParamName) {\n                params[offsetParamName] = prevOptions.length;\n              }\n\n              hasError = false;\n              _context.prev = 5;\n              _context.next = 8;\n              return get(url, params);\n\n            case 8:\n              responseRaw = _context.sent;\n              _context.next = 14;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](5);\n              hasError = true;\n\n            case 14:\n              if (!hasError) {\n                _context.next = 16;\n                break;\n              }\n\n              return _context.abrupt(\"return\", {\n                options: [],\n                hasMore: false\n              });\n\n            case 16:\n              response = mapResponse(responseRaw, {\n                search: search,\n                prevPage: page,\n                prevOptions: prevOptions\n              });\n              return _context.abrupt(\"return\", _objectSpread(_objectSpread({}, response), {}, {\n                additional: {\n                  page: page + 1\n                }\n              }));\n\n            case 18:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[5, 11]]);\n    }));\n\n    return function (_x, _x2, _x3) {\n      return _ref2.apply(this, arguments);\n    };\n  }(), [url, queryParams, searchParamName, pageParamName, offsetParamName, mapResponse, get]);\n  return {\n    loadOptions: loadOptions,\n    additional: additional,\n    defaultAdditional: defaultAdditional\n  };\n};\nexport var useMapToAsyncPaginate = function useMapToAsyncPaginate(params) {\n  return useMapToAsyncPaginatePure(useCallback, useMemo, params);\n};","map":{"version":3,"names":["_defineProperty","_objectSpread","_asyncToGenerator","_regeneratorRuntime","useCallback","useMemo","get","defaultGet","defaultResponseMapper","response","useMapToAsyncPaginatePure","useCallbackParam","useMemoParam","selectFetchParams","url","_selectFetchParams$qu","queryParams","_selectFetchParams$se","searchParamName","_selectFetchParams$pa","pageParamName","_selectFetchParams$of","offsetParamName","_selectFetchParams$ma","mapResponse","_selectFetchParams$ge","_selectFetchParams$in","initialPage","_selectFetchParams$de","defaultInitialPage","additional","page","defaultAdditional","loadOptions","_ref2","mark","_callee","search","prevOptions","_ref","params","responseRaw","hasError","wrap","_callee$","_context","prev","next","length","sent","t0","abrupt","options","hasMore","prevPage","stop","_x","_x2","_x3","apply","arguments","useMapToAsyncPaginate"],"sources":["/home/victor/Documents/junior/GIEPS-Project/gogetit-ieps-frontend/node_modules/react-select-fetch/es/useMapToAsyncPaginate.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/objectSpread2\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { useCallback, useMemo } from 'react';\nimport { get as defaultGet } from './get';\nexport var defaultResponseMapper = function defaultResponseMapper(response) {\n  return response;\n};\nexport var useMapToAsyncPaginatePure = function useMapToAsyncPaginatePure(useCallbackParam, useMemoParam, selectFetchParams) {\n  var url = selectFetchParams.url,\n      _selectFetchParams$qu = selectFetchParams.queryParams,\n      queryParams = _selectFetchParams$qu === void 0 ? {} : _selectFetchParams$qu,\n      _selectFetchParams$se = selectFetchParams.searchParamName,\n      searchParamName = _selectFetchParams$se === void 0 ? 'search' : _selectFetchParams$se,\n      _selectFetchParams$pa = selectFetchParams.pageParamName,\n      pageParamName = _selectFetchParams$pa === void 0 ? 'page' : _selectFetchParams$pa,\n      _selectFetchParams$of = selectFetchParams.offsetParamName,\n      offsetParamName = _selectFetchParams$of === void 0 ? 'offset' : _selectFetchParams$of,\n      _selectFetchParams$ma = selectFetchParams.mapResponse,\n      mapResponse = _selectFetchParams$ma === void 0 ? defaultResponseMapper : _selectFetchParams$ma,\n      _selectFetchParams$ge = selectFetchParams.get,\n      get = _selectFetchParams$ge === void 0 ? defaultGet : _selectFetchParams$ge,\n      _selectFetchParams$in = selectFetchParams.initialPage,\n      initialPage = _selectFetchParams$in === void 0 ? 1 : _selectFetchParams$in,\n      _selectFetchParams$de = selectFetchParams.defaultInitialPage,\n      defaultInitialPage = _selectFetchParams$de === void 0 ? 2 : _selectFetchParams$de;\n  var additional = useMemoParam(function () {\n    return {\n      page: initialPage\n    };\n  }, [initialPage]);\n  var defaultAdditional = useMemoParam(function () {\n    return {\n      page: defaultInitialPage\n    };\n  }, [defaultInitialPage]);\n  var loadOptions = useCallbackParam( /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(search, prevOptions, _ref) {\n      var page, params, responseRaw, hasError, response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              page = _ref.page;\n              params = _objectSpread(_objectSpread({}, queryParams), {}, _defineProperty({}, searchParamName, search));\n\n              if (pageParamName) {\n                params[pageParamName] = page;\n              }\n\n              if (offsetParamName) {\n                params[offsetParamName] = prevOptions.length;\n              }\n\n              hasError = false;\n              _context.prev = 5;\n              _context.next = 8;\n              return get(url, params);\n\n            case 8:\n              responseRaw = _context.sent;\n              _context.next = 14;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](5);\n              hasError = true;\n\n            case 14:\n              if (!hasError) {\n                _context.next = 16;\n                break;\n              }\n\n              return _context.abrupt(\"return\", {\n                options: [],\n                hasMore: false\n              });\n\n            case 16:\n              response = mapResponse(responseRaw, {\n                search: search,\n                prevPage: page,\n                prevOptions: prevOptions\n              });\n              return _context.abrupt(\"return\", _objectSpread(_objectSpread({}, response), {}, {\n                additional: {\n                  page: page + 1\n                }\n              }));\n\n            case 18:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[5, 11]]);\n    }));\n\n    return function (_x, _x2, _x3) {\n      return _ref2.apply(this, arguments);\n    };\n  }(), [url, queryParams, searchParamName, pageParamName, offsetParamName, mapResponse, get]);\n  return {\n    loadOptions: loadOptions,\n    additional: additional,\n    defaultAdditional: defaultAdditional\n  };\n};\nexport var useMapToAsyncPaginate = function useMapToAsyncPaginate(params) {\n  return useMapToAsyncPaginatePure(useCallback, useMemo, params);\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}
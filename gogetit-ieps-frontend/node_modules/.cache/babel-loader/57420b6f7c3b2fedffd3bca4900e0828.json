{"ast":null,"code":"import _regeneratorRuntime from\"/home/victor/Documents/junior/GIEPS-Project/gogetit-ieps-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/victor/Documents/junior/GIEPS-Project/gogetit-ieps-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/victor/Documents/junior/GIEPS-Project/gogetit-ieps-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useCallback}from\"react\";// import React, { useEffect } from 'react'\nimport React,{useState,useEffect}from\"react\";// import MUIDataTable from \"mui-datatables\";\nimport API from'../../api';// components\nimport PageTitle from\"../../components/PageTitle/PageTitle\";import{Grid,// CircularProgress,\n// Typography,\nButton,// Tabs,\n// Tab,\nTextField,MenuItem,Select// Fade,\n}from\"@material-ui/core\";// import { useNavigate } from \"react-router-dom\";\n// import Select from 'react-select';\n// import { SelectFetch } from 'react-select-fetch';\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function CreateExpense(){// const [transactionId, setExpenseId] = useState(\"\")\nvar _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),description=_useState2[0],setDescription=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),amount=_useState4[0],setAmount=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),expenseCategories=_useState6[0],setExpenseCategories=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),expenseCategory=_useState8[0],setExpenseCategory=_useState8[1];var createOneExpense=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var formData,generatedNumber,res1;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();formData=new FormData();generatedNumber=Math.ceil(10+Math.random()*9999999999);formData.append('transactionId',generatedNumber);formData.append('expenseCategory',expenseCategory);formData.append('description',description);formData.append('amount',amount);_context.next=9;return API.post(\"/expenses\",formData);case 9:res1=_context.sent;console.log(res1);case 11:case\"end\":return _context.stop();}}},_callee);}));return function createOneExpense(_x){return _ref.apply(this,arguments);};}();var fetchExpense=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return API.get(\"/expense_category\").then(function(_ref3){var data=_ref3.data;setExpenseCategories(data);});case 2:case\"end\":return _context2.stop();}}},_callee2);})),[]);useEffect(function(){fetchExpense();},[fetchExpense]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(PageTitle,{title:\"Register New Expense\"}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:4,children:/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,children:[/*#__PURE__*/_jsx(TextField,{id:\"description\",placeholder:\"Description\",type:\"text\",variant:\"outlined\",style:{margin:\"10px 0\"},fullWidth:true,value:description,onChange:function onChange(event){setDescription(event.target.value);}}),/*#__PURE__*/_jsx(TextField,{id:\"amount\",placeholder:\"Amount\",type:\"text\",variant:\"outlined\",style:{margin:\"10px 0\"},fullWidth:true,value:amount,onChange:function onChange(event){setAmount(event.target.value);}}),/*#__PURE__*/_jsxs(Select,{id:\"expenseCategory\",variant:\"outlined\",style:{margin:\"10px 0\"},fullWidth:true,value:expenseCategory,onChange:function onChange(_ref4){var category=_ref4.target.value;setExpenseCategory(category);console.log(category);},children:[/*#__PURE__*/_jsx(MenuItem,{value:\"\",children:/*#__PURE__*/_jsx(\"em\",{children:\"Select Category\"})}),expenseCategories.map(function(category){return/*#__PURE__*/_jsx(MenuItem,{value:category.expenseCategoryType,children:category.expenseCategoryType},category.id);})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",size:\"large\",onClick:createOneExpense,children:\"Submit\"})]})})]});}","map":{"version":3,"names":["useCallback","React","useState","useEffect","API","PageTitle","Grid","Button","TextField","MenuItem","Select","CreateExpense","description","setDescription","amount","setAmount","expenseCategories","setExpenseCategories","expenseCategory","setExpenseCategory","createOneExpense","e","preventDefault","formData","FormData","generatedNumber","Math","ceil","random","append","post","res1","console","log","fetchExpense","get","then","data","margin","event","target","value","category","map","expenseCategoryType","id"],"sources":["/home/victor/Documents/junior/GIEPS-Project/gogetit-ieps-frontend/src/pages/tables/createExpense.js"],"sourcesContent":["import { useCallback } from \"react\";\n// import React, { useEffect } from 'react'\nimport React, { useState, useEffect } from \"react\";\n\n// import MUIDataTable from \"mui-datatables\";\nimport API from '../../api';\n// components\nimport PageTitle from \"../../components/PageTitle/PageTitle\";\n\nimport {\n  Grid,\n  // CircularProgress,\n  // Typography,\n  Button,\n  // Tabs,\n  // Tab,\n  TextField,\n  MenuItem,\n  Select\n  // Fade,\n} from \"@material-ui/core\";\n\n// import { useNavigate } from \"react-router-dom\";\n// import Select from 'react-select';\n// import { SelectFetch } from 'react-select-fetch';\n\n\nexport default function CreateExpense() {\n\n  // const [transactionId, setExpenseId] = useState(\"\")\n  const [description, setDescription] = useState(\"\")\n  const [amount, setAmount] = useState(\"\")\n  const [expenseCategories, setExpenseCategories] = useState([])\n  const [expenseCategory, setExpenseCategory] = useState(\"\");\n\n  const createOneExpense = async (e) => {\n    e.preventDefault();\n\n    const formData = new FormData()\n    const generatedNumber= Math.ceil(10 + Math.random() * 9999999999)\n\n    formData.append('transactionId', generatedNumber)\n    formData.append('expenseCategory', expenseCategory)\n    formData.append('description', description)\n    formData.append('amount', amount)\n\n\n\n    const res1 = await API.post(`/expenses`, formData)\n    console.log(res1)\n  }\n\n  const fetchExpense = useCallback(async () => {\n    await API.get(`/expense_category`).then(({ data }) => {\n      setExpenseCategories(data)\n    })\n  }, []);\n  useEffect(() => {\n    fetchExpense()\n  }, [fetchExpense])\n\n  \n\n  return (\n    <>\n      <PageTitle title=\"Register New Expense\" />\n      <Grid container spacing={4}>\n        <Grid item xs={12}>\n      \n          <TextField\n            id=\"description\"\n            placeholder=\"Description\"\n            type=\"text\"\n            variant=\"outlined\"\n            style={{margin: \"10px 0\"}}\n            fullWidth\n            value={description}\n            onChange={(event) => {\n              setDescription(event.target.value)\n            }} />\n\n          <TextField\n            id=\"amount\"\n            placeholder=\"Amount\"\n            type=\"text\"\n            variant=\"outlined\"\n            style={{margin: \"10px 0\"}}\n            fullWidth\n            value={amount}\n            onChange={(event) => {\n              setAmount(event.target.value)\n            }} />\n\n          <Select\n            id=\"expenseCategory\"\n            variant=\"outlined\"\n            style={{margin: \"10px 0\"}}\n            fullWidth\n            value={expenseCategory}\n            onChange={({target: {value: category}}) => {\n              setExpenseCategory(category);\n              console.log(category)\n            }}\n\n          >\n            <MenuItem value={\"\"}><em>Select Category</em></MenuItem>\n            {expenseCategories.map(category => {\n              return (<MenuItem value={category.expenseCategoryType} key={category.id}>\n                {category.expenseCategoryType}\n              </MenuItem>)\n            })}\n          </Select>\n\n          <br />\n\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"large\"\n            onClick={createOneExpense}\n          >\n            Submit\n          </Button>\n\n        </Grid>\n\n      </Grid>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}